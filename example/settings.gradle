pluginManagement {
    includeBuild("..")
    repositories {
        mavenLocal()
        gradlePluginPortal()
    }
}

plugins {
    id 'io.github.phundal.conventions.enforcer' version '0.0.1'
}

conventionsEnforcer {
    rules {
        allowedPlugins = ['java', 'kotlin']
        allowedClosures = ['dependencies']
        bannedDependencies = ['com.squareup.retrofit2:retrofit']
    }

    excludedBuildFiles = [':legacy:build.gradle']
    shouldFailOnViolation = false
}